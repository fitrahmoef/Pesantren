<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/index.css">
  <title>Pondok Pesantren Mahmud Marzuki Penyusawan</title>
  <!-- ikon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header id="header">
    <div class="logo"><img src="images/logo-pesantren.png" alt="Logo" /></div>
    <h1>Pondok Pesantren Muhammadiyah Mahmud Marzuki</h1>
  </header>

  <div class="container">
    <!-- ===== NAV ===== -->
    <nav class="nav-grid">
      <a class="nav-btn active" href="Main.html"><i class="fas fa-info-circle"></i>Tentang&nbsp;Kami</a>
      <a class="nav-btn" href="history.html"><i class="fas fa-history"></i>Sejarah</a>
      <a class="nav-btn" href="academics.html"><i class="fas fa-book"></i>Program&nbsp;Akademik</a>
      <a class="nav-btn" href="intensivetraining.html"><i class="fas fa-mosque"></i>Pembinaan&nbsp;Intensif</a>
      <a class="nav-btn" href="calendar.html"><i class="fas fa-calendar-alt"></i>Kalender</a>
      <a class="nav-btn" href="admissions.html"><i class="fas fa-user-graduate"></i>Admisi</a>
      <a href="podcast.html" class="nav-btn"><i class="fa-solid fa-podcast"></i>Podcast</a>
    </nav>

    <!-- ===== HERO ===== -->
    <section class="hero" id="about">
      <iframe class="hero-vid" width="560" height="315"
      src="https://www.youtube.com/embed/xr-QOZvYQjk?autoplay=1&loop=1&playlist=xr-QOZvYQjk&mute=1&controls=0&rel=0&start=64"
      title="YouTube video player"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen></iframe>
      <div class="hero-text">
        <h1>Selamat Datang</h1>
        <p>Wadah Ilmu Pengetahuan, Iman Kuat & Pendidikan Karakter</p>
        <a href="#info" class="hero-btn">Jelajahi</a>
        <br/><br/>
        <button id="openVideo" class="hero-btn" style="background:transparent;border-color:#fff;margin-top:8px">Tonton Video Profil</button>
      </div>
    </section>

    <!-- ===== INFO & NEWS ===== -->
    <div id="info" class="grid-2">
      <div class="info-box">
        <h2 class="section-title">Informasi Sekolah</h2>
        <p>Pondok Pesantren Mahmud Marzuki Penyusawan mendedikasikan diri untuk menumbuhkan kemandirian, pengetahuan luas, dan karakter mulia.</p>
        <p>Misi kami: mengembalikan kejayaan ilmiah umat dengan memadukan riset sains mutakhir & nilai Qur’ani.</p>
        <p>Fasilitas modern & kurikulum bertaraf internasional siap menunjang prestasi santri.</p>
      </div>

      <div class="news-box">
        <div class="news-header">
          <h2 class="section-title">Berita Terkini</h2>
          <div class="news-nav">
            <button class="news-prev"><i class="fas fa-chevron-left"></i></button>
            <button class="news-next"><i class="fas fa-chevron-right"></i></button>
          </div>
        </div>
        <div class="news-slider">
          <div class="news-slides">
            <div class="news-slide">
              <h3 id="judul-1"></h3>
              <p class="news-date" id="tanggal-1"></p>
              <p id="caption-1"></p>
            </div>
            <div class="news-slide">
              <h3 id="judul-2"></h3>
              <p class="news-date" id="tanggal-2"></p>
              <p id="caption-2"></p>
            </div>
            <div class="news-slide">
              <h3 id="judul-3"></h3>
              <p class="news-date" id="tanggal-3"></p>
              <p id="caption-3"></p>
            </div>
            <div class="news-slide">
              <h3 id="judul-4"></h3>
              <p class="news-date" id="tanggal-4"></p>
              <p id="caption-4"></p>
              <a id="link-4" href="https://www.suaramuhammadiyah.id/read/pesantren-muhammadiyah-mahmud-marzuki-wujudkan-sinergi-global" target="_blank" class="news-link">Baca Selengkapnya</a>
            </div>
            <div class="news-slide">
              <h3 id="judul-5"></h3>
              <p class="news-date" id="tanggal-5"></p>
              <p id="caption-5"></p>
              <a id="link-5" href="https://www.suaramuhammadiyah.id/read/majelis-tarjih-dan-tajdid-pdm-kuansing-sosialisasikan-khgt" target="_blank" class="news-link">Baca Selengkapnya</a>
            </div>
            <div class="news-slide">
              <h3 id="judul-6"></h3>
              <p class="news-date" id="tanggal-6"></p>
              <p id="caption-6"></p>
              <a id="link-6" href="https://www.suaramuhammadiyah.id/read/resmi-terbit-izin-operasional-pesantren-muhammadiyah-mahmud-marzuki-penyasawan" target="_blank" class="news-link">Baca Selengkapnya</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== FEATURES ===== -->
    <section id="features">
      <h2 class="section-title">Fitur Unggulan</h2>
      <div class="feat-grid">
        <div class="feat-box">
          <i class="fas fa-book-quran"></i>
          <h3>Quran Online</h3>
          <p>Akses & pelajari Al-Qur’an secara interaktif.</p>
          <a href="#" class="feat-btn">Mulai</a>
        </div>
        <div class="feat-box">
          <i class="fas fa-graduation-cap"></i>
          <h3>Kursus Terintegrasi</h3>
          <p>Materi akademik dan diniyyah kelas dunia.</p>
          <a href="#" class="feat-btn">Lihat Kursus</a>
        </div>
        <div class="feat-box">
          <i class="fas fa-comment-alt"></i>
          <h3>Saran & Masukan</h3>
          <p>Kritik membangun demi layanan terbaik.</p>
          <a href="#" class="feat-btn">Kirim</a>
        </div>
      </div>
    </section>
  </div><!-- /container -->

  <!-- ===== BACK TO TOP ===== -->
  <button id="topBtn" title="Ke atas"><i class="fas fa-chevron-up"></i></button>

  <!-- ===== VIDEO MODAL ===== -->
  <div class="modal" id="videoModal">
    <span class="close-modal" id="closeModal">×</span>
    <iframe id="modalIframe" src="" allow="autoplay; encrypted-media"></iframe>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer id="calendar">
    <div class="container">
      <div class="foot-grid">
        <div>
          <h3>Contact Us</h3>
          <p><i class="fas fa-map-marker-alt"></i> Penyusawan</p>
          <p><i class="fas fa-phone"></i> 0000000000000</p>
          <p><i class="fas fa-envelope"></i> info@mahmudmarzukipenyusaawan.org</p>
        </div>
        <div>
          <h3>Quick Links</h3>
          <div class="foot-links">
            <a href="#about"><i class="fas fa-angle-right"></i> Tentang Kami</a>
            <a href="academics.html"><i class="fas fa-angle-right"></i> Program Akademik</a>
            <a href="intensivetraining.html"><i class="fas fa-angle-right"></i> Pembinaan Intensif</a>
            <a href="admissions.html"><i class="fas fa-angle-right"></i> Admisi</a>
          </div>
        </div>
        <div>
          <h3>Connect</h3>
          <div class="foot-links">
            <a href="#"><i class="fab fa-facebook"></i> Facebook</a>
            <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
            <a href="#"><i class="fab fa-youtube"></i> YouTube</a>
          </div>
        </div>
      </div>
      <p class="copyright">© 2025 Mahmud Marzuki Penyusawan. Semua hak cipta dilindungi.</p>
    </div>
  </footer>

  <!-- ============== JavaScript ============== -->
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
  <script>
    /* === header shrink === */
    const header = document.getElementById('header');
    window.addEventListener('scroll', () => header.classList.toggle('shrink', window.scrollY > 120));

    /* === smooth-scroll untuk anchor internal === */
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.onclick = e => {
        const id = a.getAttribute('href');
        if (id.length > 1) {
          e.preventDefault();
          document.querySelector(id).scrollIntoView({ behavior: 'smooth' });
        }
      };
    });

    /* === intersection reveal === */
    const revealObs = new IntersectionObserver(ents => {
      ents.forEach(ent => {
        if (ent.isIntersecting) {
          ent.target.classList.add('show');
          revealObs.unobserve(ent.target);
        }
      });
    }, { threshold: .2 });
    document.querySelectorAll('.info-box, .news-box, .feat-box').forEach(el => revealObs.observe(el));

    /* === nav active highlight saat scroll === */
    const sections = [...document.querySelectorAll('section[id], div[id]')];
    const navBtns = [...document.querySelectorAll('.nav-btn')];
    const navObs = new IntersectionObserver(ents => {
      ents.forEach(ent => {
        if (ent.isIntersecting) {
          navBtns.forEach(btn => btn.classList.remove('active'));
          const btn = navBtns.find(b => b.getAttribute('href') === '#' + ent.target.id);
          btn && btn.classList.add('active');
        }
      });
    }, { threshold: .6 });
    sections.forEach(sec => navObs.observe(sec));

    /* === back-to-top button === */
    const topBtn = document.getElementById('topBtn');
    window.addEventListener('scroll', () => topBtn.classList.toggle('show', window.scrollY > 400));
    topBtn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });

    /* === video modal === */
    const modal = document.getElementById('videoModal'), iframe = document.getElementById('modalIframe');
    document.getElementById('openVideo').onclick = () => {
      iframe.src = 'https://www.youtube.com/embed/UEij0TwamLg?autoplay=1';
      modal.classList.add('active');
    };
    document.getElementById('closeModal').onclick = closeModal;
    function closeModal() {
      modal.classList.remove('active');
      iframe.src = '';
    }
    modal.addEventListener('click', e => e.target === modal && closeModal());
    document.addEventListener('keydown', e => e.key === 'Escape' && modal.classList.contains('active') && closeModal());

    /* === news slider === */
    const slides = document.querySelector('.news-slides');
    const slideItems = document.querySelectorAll('.news-slide');
    const prevBtn = document.querySelector('.news-prev');
    const nextBtn = document.querySelector('.news-next');
    let currentSlide = 0;

    function showSlide(index) {
      slides.style.transform = `translateX(-${index * 100}%)`;
      currentSlide = index;
    }

    prevBtn.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + slideItems.length) % slideItems.length;
      showSlide(currentSlide);
    });

    nextBtn.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % slideItems.length;
      showSlide(currentSlide);
    });

    // Auto-slide every 5 seconds
    setInterval(() => {
      currentSlide = (currentSlide + 1) % slideItems.length;
      showSlide(currentSlide);
    }, 5000);

    // DOM Berita
    const judul1 = document.getElementById("judul-1");
    const judul2 = document.getElementById("judul-2");
    const judul3 = document.getElementById("judul-3");
    const judul4 = document.getElementById("judul-4");
    const judul5 = document.getElementById("judul-5");
    const judul6 = document.getElementById("judul-6");
    const tanggal1 = document.getElementById("tanggal-1");
    const tanggal2 = document.getElementById("tanggal-2");
    const tanggal3 = document.getElementById("tanggal-3");
    const tanggal4 = document.getElementById("tanggal-4");
    const tanggal5 = document.getElementById("tanggal-5");
    const tanggal6 = document.getElementById("tanggal-6");
    const caption1 = document.getElementById("caption-1");
    const caption2 = document.getElementById("caption-2");
    const caption3 = document.getElementById("caption-3");
    const caption4 = document.getElementById("caption-4");
    const caption5 = document.getElementById("caption-5");
    const caption6 = document.getElementById("caption-6");
    const link4 = document.getElementById("link-4");
    const link5 = document.getElementById("link-5");
    const link6 = document.getElementById("link-6");
    
    const kumpulanJudul = [judul1,judul2,judul3,judul4,judul5,judul6];
    const kumpulanTanggal = [tanggal1,tanggal2,tanggal3,tanggal4,tanggal5,tanggal6];
    const kumpulanCaption = [caption1,caption2,caption3,caption4,caption5,caption6];
    const kumpulanLink = ["","","",link4,link5,link6];

        // JSON buat berita
    fetch("./data/news.json")
    .then((res) => res.json()) // ambil JSON dan diconvert
    // datanya dipake
    .then((data) => {
      for (let index = 0; index < data.data.length; index++) {
        //judul
        kumpulanJudul[index].innerHTML = `${data.data[index].title}`;
        //tanggal
        kumpulanTanggal[index].innerHTML = `${data.data[index].tanggal}`;
        //caption
        kumpulanCaption[index].innerHTML = `${data.data[index].caption}`;
        //link
        if(index >= 3){
          kumpulanLink[index].setAttribute("href", `${data.data[index].title}`);
        }
      }
    })
    .catch((err) => console.error(err))

  </script>
</body>
</html>
